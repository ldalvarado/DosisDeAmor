<ion-card padding (drop)="onDrop($event)" (dragenter)="onDragEnter($event)"
(dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)"
[ngClass]="dragClasses" class="zoom">
  <!-- form [hidden]="!postForm || !user" [formGroup]="postForm" (ngSubmit)="sendPost()"-->
  <form [formGroup]="postForm" (ngSubmit)="sendPost()">

    <ion-list>
      <!-- ion-item button (click)="goToAccount()" *ngIf="user" -->
      <ion-item>
        <ion-avatar item-left>
          <!--img *ngIf="user" [src]="user.media?.url" alt="avatar" onerror="this.src='./assets/imgs/avatar.png'" -->
          <img src='{{ this.tab.fotoPerfil }}' alt="avatar">
        </ion-avatar>
        <ion-label text-wrap style="margin-left: 5px;">
          <ion-text>
            <h2>{{ this.hom.mascota }}</h2>
          </ion-text>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Â¿ En que estas pensando ?</ion-label>
        <ion-textarea type="text" formControlName="description" name="description"
        (keyup.enter)="sendPost()" (ionChange)="myChange()"></ion-textarea>
      </ion-item>
      <control-messages [control]="postForm.controls.description"></control-messages>
      <ion-item *ngIf="hidden && list_mascotas.length > 1">
        <ion-label>Mascota *</ion-label>
        <ion-select  name="state" formControlName="state" placeholder="Mascota">
          <ion-select-option  *ngFor="let x of list_mascotas" [value]="x.Id">{{ x.Nombre }}</ion-select-option>
        </ion-select>
      </ion-item>
      <control-messages [control]="postForm.controls.state"></control-messages>

    </ion-list>

<div *ngIf="hidden">
    <div *ngIf="files.length" class="thumnails">
      <div class="list-thumbnail">
        <div class="img-thumb" *ngFor="let file of files">
          <img [src]="file.url" [alt]="file.alt">
          <ion-icon name="close-circle-outline" class="close-icon" color="danger"
          (click)="removeFile(file); $event.stopPropagation;"></ion-icon>
        </div>
      </div>
    </div>

    <label *ngIf="isBrowser">
      <ion-button type="button" shape="round" color="secondary">
        <ion-icon slot="start" name="images"></ion-icon>
        <ion-text style="padding-left: 1px;">{{ "ADD_PHOTOS" | translate }}</ion-text>
      </ion-button>
      <input type="file" style="display: none;" multiple (change)="selectFiles($event)">
    </label>
    <ion-button *ngIf="!isBrowser" type="button" shape="round" color="secondary"
    (click)="selectFiles()">
      <ion-icon slot="start" name="images"></ion-icon>
      <ion-text style="padding-left: 5px;">{{ "ADD_PHOTOS" | translate }}</ion-text>
    </ion-button>

    <ion-button type="submit" expand="block" [disabled]="!isReadyToSend">
      <span *ngIf="!postId">{{ "SHARE" | translate }}</span>
      <span *ngIf="postId">{{ "UPDATE" | translate }}</span>
    </ion-button>
</div>
  </form>
  <!--div *ngIf="!user">
    <ion-button type="button" expand="block" color="secondary" (click)="goToLogin()">
      <ion-icon slot="start" name="log-in"></ion-icon>
      <ion-text style="padding-left: 5px;">{{ "NAV.LOGIN" | translate }}</ion-text>
    </ion-button>
  </div-->
</ion-card>
